<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TrustEye – Deepfake Detection</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0d1117;
      --surface: #161b22;
      --border: #30363d;
      --accent: #22d3ee;
      --text: #c9d1d9;
      --text2: #8b949e;
      --radius: 12px;
      --shadow: 0 12px 28px rgba(0,0,0,.35);
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',system-ui,sans-serif}
    body{background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column}
    a{color:var(--text);text-decoration:none}
    header{background:var(--surface);border-bottom:1px solid var(--border);padding:.75rem 1.5rem}
    .header-inner{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:auto}
    .logo{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600}
    .logo svg{width:28px;height:28px;color:var(--accent)}
    nav{display:flex;gap:1.5rem}
    nav a{padding:.5rem .75rem;border-radius:var(--radius);transition:background .2s}
    nav a.active,nav a:hover{background:var(--border)}
    .header-actions{display:flex;align-items:center;gap:1rem}
    .login-btn{background:var(--accent);color:#0d1117;border:none;padding:.5rem 1rem;border-radius:var(--radius);font-weight:500;cursor:pointer}
    main{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem}
    .page{display:none;width:100%}
    .page.active{display:block}
    .card{max-width:480px;margin:auto;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:2.5rem 2rem;text-align:center}
    .upload-area{border:2px dashed var(--border);border-radius:var(--radius);padding:3rem 2rem;transition:border-color .2s,background .2s;cursor:pointer}
    .upload-area.dragover{border-color:var(--accent);background:rgba(34,211,238,.05)}
    .upload-icon{width:56px;height:56px;color:var(--accent);margin-bottom:1rem}
    h1{font-size:1.5rem;margin-bottom:.25rem}
    .sub{color:var(--text2);margin-bottom:1.5rem}
    small{font-size:.75rem;color:var(--text2)}
    .btn{background:var(--accent);color:#0d1117;border:none;padding:.6rem 1.2rem;border-radius:var(--radius);font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;margin-top:1rem}
    .btn:hover{filter:brightness(1.1)}
    #fileInput{display:none}
    .preview-box img{width:100%;max-height:180px;object-fit:cover;border-radius:var(--radius);margin-bottom:.5rem}
    .progress{height:8px;background:var(--border);border-radius:4px;overflow:hidden;margin:1.25rem 0}
    .progress-bar{height:100%;background:var(--accent);width:0%;transition:width .25s}
    .error{color:#f87171;font-size:.875rem;margin-top:.75rem}
    .history-list{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:auto}
    .history-item{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;display:flex;justify-content:space-between;align-items:center}
    .history-thumb{width:60px;height:60px;border-radius:var(--radius);background-size:cover;background-position:center}
    .api pre{background:var(--surface);padding:1rem;border-radius:var(--radius);overflow-x:auto;font-size:.875rem}
  </style>
</head>
<body>

<!-- ========== HEADER (same as screenshot) ========== -->
<header>
  <div class="header-inner">
    <a href="#" class="logo">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg>
      TrustEye
    </a>
    <nav>
      <a href="#" class="nav-link active" data-page="home">Home</a>
      <a href="#" class="nav-link" data-page="history">History</a>
      <a href="#" class="nav-link" data-page="api">API</a>
    </nav>
    <div class="header-actions">
      <button class="login-btn">Log in</button>
    </div>
  </div>
</header>

<!-- ========== MAIN CONTENT (pages) ========== -->
<main>
  <!-- ---- HOME / UPLOAD ---- -->
  <div id="home-page" class="page active">
    <div class="card">
      <div class="upload-area" id="uploadArea">
        <svg class="upload-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
        </svg>
        <h1>Drop your image here</h1>
        <p class="sub">let's check if it's real!</p>
        <button class="btn" id="uploadBtn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"/></svg>
          Upload Image
        </button>
        <p class="or-text">or drop a file</p>
        <input type="file" id="fileInput" accept="image/jpeg,image/png,image/webp,image/gif">
      </div>

      <div id="preview" class="preview-box" style="display:none;">
        <img id="thumb" alt="preview"/>
        <span id="name"></span>
      </div>

      <div id="progressBox" class="progress" style="display:none;">
        <div id="progressBar" class="progress-bar"></div>
      </div>

      <p id="error" class="error"></p>
      <button id="resetBtn" class="btn" style="display:none;">Upload another</button>
    </div>
  </div>

  <!-- ---- HISTORY ---- -->
  <div id="history-page" class="page">
    <div class="history-list" id="historyList">
      <p style="text-align:center;color:var(--text2)">No analysis history yet. Upload an image to get started!</p>
    </div>
  </div>

  <!-- ---- API DOCS ---- -->
  <div id="api-page" class="page">
    <div class="card api">
      <h2>API Documentation</h2>
      <p>Access TrustEye's deepfake-detection capabilities through our REST API.</p>
      <h3>Endpoint</h3>
      <pre>POST /api/detect</pre>
      <h3>Headers</h3>
      <pre>Content-Type: multipart/form-data
Authorization: Bearer YOUR_API_KEY</pre>
      <h3>Response</h3>
      <pre>{
  "is_real": true,
  "confidence": 0.95,
  "analysis": "Detailed analysis...",
  "timestamp": "2025-10-24T12:46:53Z"
}</pre>
    </div>
  </div>
</main>

<!-- ========== SCRIPT ========== -->
<script>
/* ----------  STATE  ---------- */
let history = JSON.parse(localStorage.getItem('te-history')||'[]');
let uploadedImage = null;

/* ----------  NAV  ---------- */
document.querySelectorAll('.nav-link').forEach(a=>{
  a.onclick=e=>{
    e.preventDefault();
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(a.dataset.page+'-page').classList.add('active');
    document.querySelectorAll('.nav-link').forEach(n=>n.classList.remove('active'));
    a.classList.add('active');
  };
});

/* ----------  UPLOAD  ---------- */
const dropZone=document.getElementById('uploadArea');
const fileInput=document.getElementById('fileInput');
const progressBox=document.getElementById('progressBox');
const progressBar=document.getElementById('progressBar');
const error=document.getElementById('error');

dropZone.onclick=()=>fileInput.click();
fileInput.onchange=e=>handleFile(e.target.files[0]);

['dragenter','dragover'].forEach(ev=>dropZone.addEventListener(ev,()=>dropZone.classList.add('dragover')));
['dragleave','drop'].forEach(ev=>dropZone.addEventListener(ev,()=>dropZone.classList.remove('dragover')));
dropZone.ondrop=e=>{e.preventDefault();handleFile(e.dataTransfer.files[0]);};

function handleFile(file){
  if(!file)return;
  if(!['image/jpeg','image/png','image/webp','image/gif'].includes(file.type)){
    error.textContent='Only JPEG, PNG, WebP & GIF are allowed.';return;
  }
  if(file.size>10*1024*1024){error.textContent='Max 10 MB.';return;}
  error.textContent='';
  uploadedImage=file;
  const preview=document.getElementById('preview');
  const thumb=document.getElementById('thumb');
  const name=document.getElementById('name');
  thumb.src=URL.createObjectURL(file);
  name.textContent=file.name;
  dropZone.style.display='none';
  preview.style.display='block';
  progressBox.style.display='block';
  /* fake progress → replace with real /api/detect call */
  let pct=0;const t=setInterval(()=>{
    pct+=Math.random()*15;
    if(pct>=100){clearInterval(t);progressBar.style.width='100%';setTimeout(()=>finishAnalysis(),300);}
    else progressBar.style.width=pct+'%';
  },200);
}
function finishAnalysis(){
  progressBox.style.display='none';
  const result={
    is_real:Math.random()>.3,
    confidence:.6+Math.random()*.35,
    time:new Date().toLocaleString()
  };
  addHistory(result);
  alert(`${result.is_real?'✓ REAL':'✗ FAKE'}  Confidence: ${(result.confidence*100).toFixed(1)}%`);
  document.getElementById('resetBtn').style.display='inline-block';
}
document.getElementById('resetBtn').onclick=()=>location.reload();

/* ----------  HISTORY  ---------- */
function addHistory(r){
  history.unshift({...r,image:URL.createObjectURL(uploadedImage),id:Date.now()});
  localStorage.setItem('te-history',JSON.stringify(history));
  renderHistory();
}
function renderHistory(){
  const list=document.getElementById('historyList');
  if(!history.length){list.innerHTML='<p style="text-align:center;color:var(--text2)">No history yet.</p>';return;}
  list.innerHTML=history.map(h=>`
    <div class="history-item">
      <div class="history-thumb" style="background-image:url('${h.image}')"></div>
      <div>
        <strong>${h.is_real?'REAL':'FAKE'}</strong> · ${(h.confidence*100).toFixed(1)}%
        <br><small>${h.time}</small>
      </div>
    </div>`).join('');
}
renderHistory();

/* ----------  LOGIN  ---------- */
document.querySelector('.login-btn').onclick=()=>alert('Login placeholder');
</script>
</body>
</html>